---
# global vars
env: prod

# mariadb
mariadb_mysqlservice: mysqld
mariadb_mysql_port: 3306
mariadb_mysql_ip: 127.0.0.1
mariadb_root_password: "{{ vault_mariadb_root_password }}"

# mail database settings
mail_db_name: mail
mail_db_user_r: mail_r
mail_db_user_r_password: "{{ vault_mail_prod_db_user_r_password  }}"
mail_db_user_rw: mail_rw
mail_db_user_rw_password: "{{ vault_mail_prod_db_user_rw_password }}"

# mail_test database settings
mail_test_db_name: mail_test
mail_test_db_user_r: mail_test_r
mail_test_db_user_r_password: "{{ vault_mail_test_db_user_r_password  }}"
mail_test_db_user_rw: mail_test_rw
mail_test_db_user_rw_password: "{{ vault_mail_test_db_user_rw_password }}"

# postfix main.cf
postfix_myhostname: mail.ddmail.se
postfix_mydomain: ddmail.se
postfix_myorigin: ddmail.se
postfix_mydestination: localhost, localhost.localdomain
postfix_mynetworks: 127.0.0.0/8
postfix_inet_interfaces: all
postfix_inet_protocols: ipv4
postfix_relay_domains: $mydestination
postfix_message_size_limit: 30720000
postfix_unknown_local_recipient_reject_code: 550
postfix_smtpd_tls_cert_file: /etc/letsencrypt/live/mail.ddmail.se/fullchain.pem
postfix_smtpd_tls_key_file: /etc/letsencrypt/live/mail.ddmail.se/privkey.pem

# dovecot
dovecot_ssl_cert: </etc/letsencrypt/live/mail.ddmail.se/cert.pem
dovecot_ssl_key: </etc/letsencrypt/live/mail.ddmail.se/privkey.pem

# rspamd

# redis

# sshd
sshd_port: "{{ vault_sshd_port }}"
sshd_address_family: inet
sshd_listen_address: 0.0.0.0
sshd_permit_root_login: !!str no
sshd_pubkey_authentication: !!str yes
sshd_password_authentication: !!str no
sshd_use_PAM: !!str no
sshd_allow_agent_forwarding: !!str no
sshd_allow_tcp_forwarding: !!str no
sshd_x11_forwarding: !!str no
sshd_allow_users: "{{ vault_sshd_allow_users }}"

# apache2
apache2_port80_server_name: www.ddmail.se
apache2_port80_server_alias: ddmail.se

# ddmail_webapp
ddmail_webapp_venv_user_owner: root
ddmail_webapp_venv_group_owner: root
ddmail_webapp_runas_user: www-ddmail
ddmail_webapp_runas_group: www-ddmail
ddmail_webapp_prod_wtf_csrf_secret_key: "{{ vault_ddmail_webapp_prod_wtf_csrf_secret_key }}"
ddmail_webapp_prod_secret_key: "{{ vault_ddmail_webapp_prod_secret_key }}"
ddmail_webapp_prod_sqlalchemy_database_uri: 'mysql://mail_rw:{{ vault_mail_prod_db_user_rw_password }}@localhost/mail'
ddmail_webapp_prod_mx_record_host: mail.ddmail.se.
ddmail_webapp_prod_mx_record_priority: 10
ddmail_webapp_prod_spf_record: "\"v=spf1 mx -all\""
ddmail_webapp_prod_dkim_record: "\"v=DKIM1; k=rsa;  \\\\009p=MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAoxbFCUM83lUvHKku3mE/IOb2LArgPsjzhijO4pZfVLrLp7dv8RKDs4MmtFHrdWf4UibDFZtPm4IKcagDD3LlqgPSeewnfesI/kGCdz2SqPA/R5Cip5I1swtQ1lKa41eu6Rxym32fzCrRAhBfOZqM05BKPQQpxcSuyNmKOz+HGlGtkUMk5ebhWDtTsoc7ntw\" \"nhnAxaF+T61YQdYyCL \\\\009P7l6KRULaDJ3U7AkNAYrXpv0AdfjDVZp+GXu5fqTFTMi5pYGv1pj4621OSysDmjFlPksCgDouE11N+sJVCVPj//8gJCpzDv7y2kET9MIPmIlKGBTC1AQg5KWrbkeQPcEnzhRwIDAQAB\""
ddmail_webapp_prod_dmarc_record: "\"v=DMARC1; p=none\""
ddmail_webapp_test_wtf_csrf_secret_key: "{{ vault_ddmail_webapp_test_wtf_csrf_secret_key }}"
ddmail_webapp_test_secret_key: "{{ vault_ddmail_webapp_test_secret_key }}"
ddmail_webapp_test_sqlalchemy_database_uri: 'mysql://mail_test_rw:{{ vault_mail_test_db_user_rw_password }}@localhost/mail_test'
ddmail_webapp_test_mx_record_host: mail.ddmail.se.
ddmail_webapp_test_mx_record_priority: 10
ddmail_webapp_test_spf_record: "\"v=spf1 mx -all\""
ddmail_webapp_test_dkim_record: "\"v=DKIM1; k=rsa;  \\\\009p=MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAoxbFCUM83lUvHKku3mE/IOb2LArgPsjzhijO4pZfVLrLp7dv8RKDs4MmtFHrdWf4UibDFZtPm4IKcagDD3LlqgPSeewnfesI/kGCdz2SqPA/R5Cip5I1swtQ1lKa41eu6Rxym32fzCrRAhBfOZqM05BKPQQpxcSuyNmKOz+HGlGtkUMk5ebhWDtTsoc7ntw\" \"nhnAxaF+T61YQdYyCL \\\\009P7l6KRULaDJ3U7AkNAYrXpv0AdfjDVZp+GXu5fqTFTMi5pYGv1pj4621OSysDmjFlPksCgDouE11N+sJVCVPj//8gJCpzDv7y2kET9MIPmIlKGBTC1AQg5KWrbkeQPcEnzhRwIDAQAB\""
ddmail_webapp_test_dmarc_record: "\"v=DMARC1; p=none\""
ddmail_webapp_dev_wtf_csrf_secret_key: "{{ vault_ddmail_webapp_dev_wtf_csrf_secret_key }}"
ddmail_webapp_dev_secret_key: "{{ vault_ddmail_webapp_dev_secret_key }}"
ddmail_webapp_dev_sqlalchemy_database_uri: 'mysql://mail_dev_rw:{{ vault_mail_dev_db_user_rw_password }}@localhost/mail_dev'
ddmail_webapp_dev_mx_record_host: mail.ddmail.se.
ddmail_webapp_dev_mx_record_priority: 10
ddmail_webapp_dev_spf_record: "\"v=spf1 mx -all\""
ddmail_webapp_dev_dkim_record: "\"v=DKIM1; k=rsa;  \\\\009p=MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAoxbFCUM83lUvHKku3mE/IOb2LArgPsjzhijO4pZfVLrLp7dv8RKDs4MmtFHrdWf4UibDFZtPm4IKcagDD3LlqgPSeewnfesI/kGCdz2SqPA/R5Cip5I1swtQ1lKa41eu6Rxym32fzCrRAhBfOZqM05BKPQQpxcSuyNmKOz+HGlGtkUMk5ebhWDtTsoc7ntw\" \"nhnAxaF+T61YQdYyCL \\\\009P7l6KRULaDJ3U7AkNAYrXpv0AdfjDVZp+GXu5fqTFTMi5pYGv1pj4621OSysDmjFlPksCgDouE11N+sJVCVPj//8gJCpzDv7y2kET9MIPmIlKGBTC1AQg5KWrbkeQPcEnzhRwIDAQAB\""
ddmail_webapp_dev_dmarc_record: "\"v=DMARC1; p=none\""

# ddmail_email_remover
ddmail_email_remover_venv_user_owner: root
ddmail_email_remover_venv_group_owner: root
ddmail_email_remover_runas_user: email-remover
ddmail_email_remover_runas_group: email-remover
ddmail_email_remover_doas_user: email-remover
ddmail_email_remover_prod_secret_key: "{{ vault_ddmail_email_remover_prod_secret_key }}"
ddmail_email_remover_test_secret_key: "{{ vault_ddmail_email_remover_test_secret_key }}"
ddmail_email_remover_dev_secret_key: "{{ vault_ddmail_email_remover_dev_secret_key }}"
ddmail_email_remover_prod_password: "{{ vault_ddmail_email_remover_prod_password }}"
ddmail_email_remover_test_password: "{{ vault_ddmail_email_remover_test_password }}"
ddmail_email_remover_dev_password: "{{ vault_ddmail_email_remover_dev_password }}"
ddmail_email_remover_prod_password_hash: "{{ vault_ddmail_email_remover_prod_password_hash }}"
ddmail_email_remover_test_password_hash: "{{ vault_ddmail_email_remover_test_password_hash }}"
ddmail_email_remover_dev_password_hash: "{{ vault_ddmail_email_remover_dev_password_hash }}"

# ddmail_dmcp_keyhandler
ddmail_dmcp_keyhandler_venv_user_owner: root
ddmail_dmcp_keyhandler_venv_group_owner: root
ddmail_dmcp_keyhandler_runas_user: dmcp-keyhandler
ddmail_dmcp_keyhandler_runas_group: dmcp-keyhandler
ddmail_dmcp_keyhandler_doas_user: dmcp-keyhandler
ddmail_dmcp_keyhandler_prod_secret_key: "{{ vault_ddmail_dmcp_keyhandler_prod_secret_key }}"
ddmail_dmcp_keyhandler_test_secret_key: "{{ vault_ddmail_dmcp_keyhandler_test_secret_key }}"
ddmail_dmcp_keyhandler_dev_secret_key: "{{ vault_ddmail_dmcp_keyhandler_dev_secret_key }}"
ddmail_dmcp_keyhandler_prod_password: "{{ vault_ddmail_dmcp_keyhandler_prod_password }}"
ddmail_dmcp_keyhandler_test_password: "{{ vault_ddmail_dmcp_keyhandler_test_password }}"
ddmail_dmcp_keyhandler_dev_password: "{{ vault_ddmail_dmcp_keyhandler_dev_password }}"
ddmail_dmcp_keyhandler_prod_password_hash: "{{ vault_ddmail_dmcp_keyhandler_prod_password_hash }}"
ddmail_dmcp_keyhandler_test_password_hash: "{{ vault_ddmail_dmcp_keyhandler_test_password_hash }}"
ddmail_dmcp_keyhandler_dev_password_hash: "{{ vault_ddmail_dmcp_keyhandler_dev_password_hash }}"

# tor oniun service
tor_ddmail_http_hidden_service_dir: /var/lib/tor/ddmail_http/
tor_ddmail_hidden_service_port: 80 
tor_ddmail_hidden_service_map: 127.0.0.1:8080
tor_dovecot_hidden_service_port: 143
tor_dovecot_hidden_service_map: 127.0.0.1:143
tor_postfix_hidden_service_port: 25
tor_postfix_hidden_service_map: 127.0.0.1:10025

